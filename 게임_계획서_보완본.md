# 뱀파이어 서바이어 스타일 2D 탑뷰 로그라이크 게임 상세 기획서
*20년차 전문가 검토 및 보완 완료 - 최신 버전*

## 1. 게임 개요
- **게임명**: Survivor's Night
- **장르**: 2D 탑뷰 액션 생존 로그라이크
- **플랫폼**: 웹 브라우저 (HTML5 + JavaScript)
- **참고 게임**: 뱀파이어 서바이어, 20 Minutes Till Dawn
- **타겟 연령**: 12세 이상
- **플레이 시간**: 10-30분 (1회 세션)

## 2. 핵심 게임플레이 메커니즘

### 2.1 기본 시스템
- **자동 공격**: 플레이어 캐릭터가 자동으로 근처 적을 공격
- **생존 시간**: 시간이 지날수록 난이도 증가 (구체적 공식 적용)
- **경험치 시스템**: 적 처치 시 경험치 획득, 레벨업으로 능력치 향상
- **무작위 아이템**: 경험치 획득 시 무작위 능력치 부여 (확률 기반)

### 2.2 캐릭터 시스템
- **플레이어**: 중앙에 위치한 캐릭터 (기본 체력: 100, 기본 공격력: 20)
- **이동**: WASD 또는 방향키로 이동 (기본 이동속도: 150px/s)
- **체력**: 적과 접촉 시 감소, 아이템으로 회복 가능
- **공격력**: 레벨업과 아이템으로 증가 (기본 공격 범위: 80px)

## 3. 게임 요소 상세 설계

### 3.1 적 시스템

#### 3.1.1 적 종류 및 스펙
```
1. 좀비 (Zombie)
   - 체력: 30-50 (시간에 따라 증가)
   - 이동속도: 80px/s
   - 공격력: 10
   - 경험치: 15
   - 스폰 확률: 40%

2. 유령 (Ghost)
   - 체력: 20-35
   - 이동속도: 120px/s
   - 공격력: 15
   - 경험치: 20
   - 스폰 확률: 30%

3. 뱀파이어 (Vampire)
   - 체력: 60-100
   - 이동속도: 100px/s
   - 공격력: 25
   - 경험치: 35
   - 스폰 확률: 20%

4. 보스 몬스터 (Boss)
   - 체력: 200-500
   - 이동속도: 60px/s
   - 공격력: 40-80
   - 경험치: 100-200
   - 스폰 확률: 10% (5분마다)
```

#### 3.1.2 스폰 시스템
- **기본 스폰 레이트**: 초당 0.5마리
- **난이도 증가 공식**: `SpawnRate = 0.5 + (TimeInMinutes * 0.1)`
- **최대 스폰 레이트**: 초당 3.0마리 (30분 후)
- **스폰 위치**: 화면 가장자리에서 랜덤하게 생성
- **동시 존재 가능 적 수**: 최대 100마리

#### 3.1.3 AI 시스템
- **기본 AI**: 플레이어를 향해 직선 이동
- **고급 AI**: 장애물 회피, 플레이어 예측 이동
- **집단 AI**: 다른 적과 함께 플레이어를 둘러싸는 행동

### 3.2 아이템 시스템

#### 3.2.1 아이템 등급 및 확률
```
- Common (일반): 60% 확률
- Rare (희귀): 25% 확률
- Epic (영웅): 12% 확률
- Legendary (전설): 3% 확률
```

#### 3.2.2 아이템 효과 수치화
```
1. 공격력 증가
   - Common: +5% (최대 3개 중첩)
   - Rare: +10% (최대 3개 중첩)
   - Epic: +20% (최대 2개 중첩)
   - Legendary: +50% (최대 1개 중첩)

2. 이동속도 증가
   - Common: +8% (최대 3개 중첩)
   - Rare: +15% (최대 3개 중첩)
   - Epic: +25% (최대 2개 중첩)
   - Legendary: +60% (최대 1개 중첩)

3. 체력 증가
   - Common: +20 HP (최대 3개 중첩)
   - Rare: +40 HP (최대 3개 중첩)
   - Epic: +80 HP (최대 2개 중첩)
   - Legendary: +200 HP (최대 1개 중첩)

4. 공격 범위 증가
   - Common: +10% (최대 3개 중첩)
   - Rare: +20% (최대 3개 중첩)
   - Epic: +35% (최대 2개 중첩)
   - Legendary: +80% (최대 1개 중첩)

5. 공격 속도 증가
   - Common: +12% (최대 3개 중첩)
   - Rare: +20% (최대 3개 중첩)
   - Epic: +35% (최대 2개 중첩)
   - Legendary: +70% (최대 1개 중첩)
```

### 3.3 경험치 및 레벨업 시스템

#### 3.3.1 경험치 테이블 (레벨 1-50)
```
레벨 1: 0 XP
레벨 2: 100 XP
레벨 3: 250 XP
레벨 4: 450 XP
레벨 5: 700 XP
레벨 6: 1000 XP
레벨 7: 1350 XP
레벨 8: 1750 XP
레벨 9: 2200 XP
레벨 10: 2700 XP
...
레벨 50: 122,500 XP
```

#### 3.3.2 레벨업 보상
- **레벨업 시**: 체력 +10, 공격력 +2, 이동속도 +3px/s
- **5레벨마다**: 특별 능력 해금 (더블 점프, 대시 등)
- **10레벨마다**: 궁극기 해금 (전체 화면 공격, 무적 시간 등)

### 3.4 환경 시스템
- **맵 크기**: 무한 확장 (카메라가 플레이어를 따라감)
- **장애물**: 바위, 나무, 건물 등 (충돌 감지)
- **환경 효과**: 밤/낮 변화, 날씨 효과
- **전리품**: 체력 회복 아이템, 임시 능력 부스트

## 4. 게임 리소스 및 아트워크 계획

### 4.1 개발 단계별 리소스 전략

#### 4.1.1 Phase 1: 프로토타입 (Week 1-2)
- **더미 이미지 사용**: 간단한 도형과 색상으로 게임 요소 표현
- **플레이어**: 파란색 원 (16x16px)
- **적**: 빨간색 원 (12x12px)
- **아이템**: 초록색 사각형 (8x8px)
- **배경**: 단색 배경 또는 간단한 격자 무늬

#### 4.1.2 Phase 2: 핵심 시스템 (Week 3-4)
- **기본 스프라이트**: 간단한 픽셀 아트 스타일
- **플레이어**: 32x32px 기본 캐릭터
- **적**: 24x24px 기본 몬스터 (좀비, 유령, 뱀파이어)
- **아이템**: 16x16px 기본 아이템 아이콘
- **UI**: 기본적인 체력바, 경험치바

#### 4.1.3 Phase 3: UI 및 완성도 (Week 5-6)
- **고품질 스프라이트**: 64x64px 고해상도 캐릭터
- **애니메이션**: 기본적인 이동, 공격 애니메이션
- **UI 개선**: 세련된 HUD 디자인
- **파티클 효과**: 간단한 시각적 효과

#### 4.1.4 Phase 4: 최적화 및 출시 (Week 7-8)
- **최종 아트워크**: 전문가 제작 고품질 그래픽
- **사운드 추가**: 효과음 및 배경음악
- **파티클 시스템**: 고급 시각적 효과
- **모바일 최적화**: 다양한 해상도 지원

### 4.2 더미 이미지 상세 계획

#### 4.2.1 플레이어 캐릭터
```
기본 상태:
- 원형 (16x16px)
- 색상: #0066FF (파란색)
- 테두리: #0033CC (진한 파란색)

레벨업 시:
- 크기 증가: +2px per level
- 색상 변화: 파란색 → 보라색 → 금색
- 특수 효과: 레벨 5, 10, 15마다 테두리 색상 변경
```

#### 4.2.2 적 캐릭터
```
좀비 (Zombie):
- 원형 (12x12px)
- 색상: #FF6600 (주황색)
- 구분: 작은 검은 점 (눈)

유령 (Ghost):
- 원형 (12x12px)
- 색상: #CCCCCC (회색)
- 구분: 반투명 효과 (opacity: 0.7)

뱀파이어 (Vampire):
- 원형 (12x12px)
- 색상: #990000 (진한 빨간색)
- 구분: 작은 흰색 삼각형 (송곳니)

보스 (Boss):
- 원형 (24x24px)
- 색상: #FF0000 (빨간색)
- 구분: 큰 크기, 진한 테두리
```

#### 4.2.3 아이템 및 UI
```
아이템:
- Common: 초록색 사각형 (8x8px)
- Rare: 파란색 사각형 (8x8px)
- Epic: 보라색 사각형 (8x8px)
- Legendary: 금색 사각형 (8x8px)

UI 요소:
- 체력바: 빨간색 직사각형
- 경험치바: 파란색 직사각형
- 버튼: 회색 직사각형 + 흰색 텍스트
```

### 4.3 사운드 리소스 계획

#### 4.3.1 개발 단계별 사운드
```
Phase 1-2: 사운드 없음
- 게임 로직에 집중
- 시각적 피드백만으로 테스트

Phase 3: 기본 효과음
- 간단한 비프음 (JavaScript Web Audio API)
- 주파수 기반 사운드 생성
- 볼륨 조절 기능

Phase 4: 고품질 사운드
- 전문 효과음 파일 (.mp3, .wav)
- 배경음악 추가
- 사운드 믹싱 및 최적화
```

#### 4.3.2 더미 사운드 구현 방법
```
JavaScript Web Audio API 활용:
- 공격 사운드: 440Hz 사인파 (0.1초)
- 적 처치 사운드: 880Hz 사인파 (0.2초)
- 레벨업 사운드: 660Hz → 880Hz → 1100Hz (0.3초)
- 게임오버 사운드: 220Hz → 110Hz (0.5초)
```

### 4.4 리소스 교체 전략

#### 4.4.1 이미지 교체 방법
```
1. 파일명 규칙 통일
   - player.png, enemy_zombie.png, item_common.png
   - 더미 이미지와 최종 이미지 동일한 파일명 사용

2. 이미지 크기 표준화
   - 더미 이미지 제작 시 최종 이미지와 동일한 크기 사용
   - 비율 유지하여 교체 시 레이아웃 깨짐 방지

3. 스프라이트 시트 준비
   - 애니메이션 프레임을 위한 스프라이트 시트 구조 미리 설계
   - 더미 이미지도 동일한 구조로 제작
```

#### 4.4.2 사운드 교체 방법
```
1. 사운드 매니저 추상화
   - 사운드 재생을 담당하는 별도 클래스 구현
   - 더미 사운드와 실제 사운드 파일을 쉽게 교체할 수 있도록 설계

2. 사운드 이벤트 시스템
   - 게임 이벤트와 사운드 재생을 분리
   - 사운드 파일만 교체하면 되도록 구조화
```

## 5. 상세 개발 로드맵 및 검증 계획

### 5.1 Phase 1: 최소 기능 프로토타입 (Week 1-2)
**목표**: 게임을 시작할 수 있는 최소한의 기능 구현

#### 5.1.1 개발 목표
```
핵심 기능:
- 기본 게임 루프 (60FPS)
- 플레이어 캐릭터 생성 및 이동 (WASD)
- 단일 적 타입 (좀비) 생성 및 기본 AI
- 간단한 충돌 감지 (플레이어-적)
- 기본 UI (체력바, 생존 시간)
- 게임오버 조건 (체력 0)
```

#### 5.1.2 기술적 요구사항
```
- HTML5 Canvas 설정
- 기본 게임 루프 구현
- 입력 처리 시스템
- 간단한 물리 엔진
- 더미 이미지 렌더링
```

#### 5.1.3 검증 계획
```
기능 검증:
□ 게임 시작/종료 정상 작동
□ 플레이어 이동 반응성 (지연 없음)
□ 적 생성 및 이동 정상
□ 충돌 감지 정확성
□ UI 요소 정상 표시

성능 검증:
□ 60FPS 안정적 유지
□ 메모리 사용량 100MB 이하
□ 초기 로딩 시간 3초 이하
□ 브라우저 크롬에서 정상 작동

사용성 검증:
□ 직관적인 조작법
□ 게임 규칙 이해 가능
□ 최소 1분간 플레이 가능
```

#### 5.1.4 완료 기준
- [ ] 게임 시작부터 종료까지 완전한 플레이 사이클
- [ ] 모든 핵심 기능 정상 작동
- [ ] 성능 요구사항 충족
- [ ] 기본 버그 없음

### 5.2 Phase 2: 핵심 시스템 완성 (Week 3-4)
**목표**: 게임의 핵심 메커니즘 완성

#### 5.2.1 개발 목표
```
핵심 시스템:
- 적 스폰 시스템 (난이도 증가)
- 자동 공격 시스템
- 경험치 및 레벨업
- 아이템 시스템 (기본)
- 다양한 적 타입
- 카메라 시스템
```

#### 5.2.2 기술적 요구사항
```
- 객체 풀링 시스템
- 스폰 알고리즘
- 경험치 계산 시스템
- 아이템 효과 적용
- 카메라 추적
```

#### 5.2.3 검증 계획
```
시스템 검증:
□ 적 스폰 레이트 정확성
□ 난이도 증가 곡선
□ 자동 공격 범위 및 데미지
□ 경험치 획득 및 레벨업
□ 아이템 효과 적용
□ 카메라 추적 부드러움

게임플레이 검증:
□ 생존 시간 5분 이상
□ 레벨업 시 능력치 향상
□ 아이템 수집 및 효과
□ 다양한 적 타입 구분
□ 전략적 플레이 가능
```

#### 5.2.4 완료 기준
- [ ] 모든 핵심 시스템 정상 작동
- [ ] 게임플레이 밸런싱 적절
- [ ] 성능 최적화 완료
- [ ] 사용자 테스트 통과

### 5.3 Phase 3: 완성도 향상 (Week 5-6)
**목표**: 게임의 완성도와 사용자 경험 향상

#### 5.3.1 개발 목표
```
완성도 요소:
- 고품질 UI/UX
- 튜토리얼 시스템
- 사운드 시스템
- 파티클 효과
- 애니메이션
- 설정 옵션
```

#### 5.3.2 기술적 요구사항
```
- UI 컴포넌트 시스템
- 튜토리얼 엔진
- 사운드 매니저
- 파티클 시스템
- 애니메이션 엔진
- 설정 저장/로드
```

#### 5.3.3 검증 계획
```
사용자 경험 검증:
□ 튜토리얼 완료율 90% 이상
□ UI 직관성 및 사용성
□ 사운드 피드백 적절성
□ 시각적 효과 만족도
□ 설정 옵션 기능성

기술적 검증:
□ 모든 기능 안정성
□ 크로스 브라우저 호환성
□ 모바일 반응형 지원
□ 접근성 요구사항
```

#### 5.3.4 완료 기준
- [ ] 사용자 테스트 평점 4.0/5.0 이상
- [ ] 모든 브라우저에서 정상 작동
- [ ] 모바일 최적화 완료
- [ ] 접근성 체크리스트 통과

### 5.4 Phase 4: 최적화 및 출시 (Week 7-8)
**목표**: 최종 최적화 및 출시 준비

#### 5.4.1 개발 목표
```
최적화 요소:
- 성능 최적화
- 메모리 최적화
- 코드 품질 향상
- 최종 아트워크 적용
- 사운드 최적화
- 배포 준비
```

#### 5.4.2 기술적 요구사항
```
- 성능 프로파일링
- 메모리 누수 방지
- 코드 리팩토링
- 최종 리소스 통합
- 배포 스크립트
```

#### 5.4.3 검증 계획
```
출시 준비 검증:
□ 성능 요구사항 100% 충족
□ 메모리 사용량 안정성
□ 코드 품질 기준 충족
□ 최종 리소스 통합 완료
□ 배포 프로세스 검증

사용자 테스트:
□ 최종 사용자 테스트
□ 피드백 반영 완료
□ 출시 준비 완료
```

#### 5.4.4 완료 기준
- [ ] 모든 성능 요구사항 충족
- [ ] 코드 품질 기준 통과
- [ ] 최종 사용자 테스트 통과
- [ ] 출시 준비 완료

### 5.5 Phase 5: 출시 후 개선 (Week 9-12)
**목표**: 사용자 피드백 반영 및 지속적 개선

#### 5.5.1 개발 목표
```
개선 요소:
- 사용자 피드백 반영
- 버그 수정
- 밸런싱 조정
- 성능 최적화
- 새로운 기능 추가
```

#### 5.5.2 검증 계획
```
출시 후 검증:
□ 사용자 만족도 지속
□ 성능 안정성 유지
□ 새로운 기능 정상 작동
□ 밸런싱 적절성
```

## 6. 기술적 구현 상세 계획

### 6.1 성능 최적화 전략

#### 6.1.1 렌더링 최적화
- **화면 밖 객체 제거**: 카메라 뷰포트 밖의 객체는 렌더링하지 않음
- **LOD (Level of Detail)**: 거리에 따른 렌더링 품질 조절
- **스프라이트 배칭**: 같은 텍스처를 사용하는 객체들을 한 번에 렌더링
- **프레임 스킵**: 60FPS 유지를 위한 적응적 프레임 드롭

#### 6.1.2 메모리 관리
- **객체 풀링**: 적, 총알, 파티클 등의 객체를 재사용
- **텍스처 아틀라스**: 여러 이미지를 하나의 텍스처로 통합
- **메모리 누수 방지**: 이벤트 리스너 정리, 객체 참조 해제
- **가비지 컬렉션 최적화**: 객체 생성/삭제 최소화

#### 6.1.3 WebGL vs Canvas 2D 성능 비교
```
Canvas 2D (기본):
- 장점: 구현 간단, 호환성 우수
- 단점: 성능 제한적, 복잡한 효과 구현 어려움
- 권장: 초기 프로토타입, 간단한 게임

WebGL (고급):
- 장점: 고성능, 복잡한 효과 구현 가능
- 단점: 구현 복잡, 호환성 제한적
- 권장: 최종 버전, 고품질 그래픽 필요시
```

### 6.2 크로스 브라우저 호환성

#### 6.2.1 지원 브라우저
```
데스크톱:
- Chrome 80+ (권장)
- Firefox 75+
- Safari 13+
- Edge 80+

모바일:
- iOS Safari 13+
- Chrome Mobile 80+
- Samsung Internet 12+
```

#### 6.2.2 폴리필 적용 계획
- **ES6+ 기능**: Babel을 통한 하위 버전 호환성
- **Canvas API**: 기본 지원이 안 되는 경우 대체 구현
- **Web Audio API**: 사운드 재생을 위한 대체 방법

### 6.3 입력 시스템
- **키보드**: WASD, 방향키, 스페이스바 (대시)
- **마우스**: 클릭으로 특수 공격, 드래그로 이동
- **터치**: 모바일 터치 제스처 지원
- **게임패드**: Xbox, PlayStation 컨트롤러 지원

## 7. 사용자 경험(UX) 설계

### 7.1 튜토리얼 시스템 (5단계)
```
1단계: 기본 이동 (WASD 키 설명)
2단계: 자동 공격 (적 처치 방법)
3단계: 아이템 수집 (경험치 획득)
4단계: 레벨업 (능력치 향상)
5단계: 생존 전략 (적 회피, 체력 관리)
```

### 7.2 UI/UX 와이어프레임
```
게임 화면 레이아웃:
┌─────────────────────────────────────┐
│ [일시정지] [설정] [도움말]         │
├─────────────────────────────────────┤
│                                     │
│                                     │
│                                     │
│              [플레이어]             │
│                                     │
│                                     │
│                                     │
├─────────────────────────────────────┤
│ 체력: ████████████████ [100/100]   │
│ 경험: ████████░░░░░░░░ [레벨 5]    │
│ 생존시간: [12:34] 적 수: [23]      │
└─────────────────────────────────────┘
```

### 7.3 피드백 시스템
- **시각적 피드백**: 데미지 표시, 콤보 카운터, 파티클 효과
- **청각적 피드백**: 공격 사운드, 적 처치 사운드, 레벨업 사운드
- **촉각적 피드백**: 모바일 진동 (지원 시)

### 7.4 접근성 고려사항
- **색맹 지원**: 색상 외에도 패턴, 모양으로 구분
- **청각장애인 지원**: 시각적 알림, 자막 표시
- **운동장애인 지원**: 키보드 단축키, 자동 플레이 모드
- **인지장애인 지원**: 간단한 UI, 명확한 설명

## 8. 데이터 분석 및 운영 계획

### 8.1 핵심 성과 지표(KPI)
```
사용자 참여도:
- DAU (일일 활성 사용자)
- MAU (월간 활성 사용자)
- 세션 길이 (평균 플레이 시간)
- 세션 빈도 (하루 평균 플레이 횟수)

게임 성과:
- 생존 시간 (평균/최대)
- 레벨 달성률
- 아이템 수집률
- 이탈률 (게임오버 후 재시작률)

수익성:
- 광고 노출률
- 클릭률 (CTR)
- 전환률
```

### 8.2 플레이어 행동 분석
- **이벤트 추적**: 게임 시작, 레벨업, 아이템 획득, 게임오버
- **퍼널 분석**: 튜토리얼 완료율, 첫 게임 완료율
- **A/B 테스트**: UI 레이아웃, 난이도 조절, 아이템 효과
- **히트맵**: 화면 클릭/터치 패턴 분석

### 8.3 콘텐츠 업데이트 계획
```
1개월차: 버그 수정, 밸런싱 조정
2개월차: 새로운 적 타입 추가
3개월차: 새로운 아이템 카테고리
6개월차: 시즌 시스템 도입
12개월차: 대규모 확장팩
```

## 9. 프로젝트 관리 및 품질 보증

### 9.1 현실적인 개발 일정 (8주)
```
Week 1-2: 프로토타입 개발
- 기본 게임 루프
- 플레이어 이동 및 공격
- 간단한 적 AI
- 더미 이미지로 기본 시각화

Week 3-4: 핵심 시스템 구현
- 적 스폰 시스템
- 충돌 감지
- 경험치 및 레벨업
- 기본 스프라이트 추가

Week 5-6: 아이템 및 UI 시스템
- 아이템 효과 구현
- 사용자 인터페이스
- 튜토리얼 시스템
- 고품질 스프라이트 적용

Week 7-8: 최적화 및 출시 준비
- 성능 최적화
- 버그 수정
- 사용자 테스트
- 최종 아트워크 및 사운드 적용
```

### 9.2 품질 보증 체크리스트
```
기능 테스트:
□ 모든 게임 메커니즘 정상 작동
□ 충돌 감지 시스템 정확성
□ 아이템 효과 정확성
□ 레벨업 시스템 정상 작동

성능 테스트:
□ 60FPS 유지 (최소 30FPS)
□ 메모리 사용량 안정성
□ 로딩 시간 최적화
□ 브라우저 호환성

사용성 테스트:
□ 직관적인 조작법
□ 명확한 피드백
□ 적절한 난이도 곡선
□ 접근성 요구사항 충족

리소스 테스트:
□ 더미 이미지 정상 표시
□ 이미지 교체 시 레이아웃 유지
□ 사운드 시스템 정상 작동
□ 리소스 로딩 최적화
```

### 9.3 테스트 방법론
- **단위 테스트**: 각 클래스/함수의 개별 기능 테스트
- **통합 테스트**: 시스템 간 상호작용 테스트
- **사용자 테스트**: 실제 사용자를 대상으로 한 플레이 테스트
- **성능 테스트**: 다양한 기기에서의 성능 벤치마크
- **리소스 테스트**: 이미지/사운드 교체 시 호환성 검증

## 10. 파일 구조 및 기술 스택

### 10.1 상세 파일 구조
```
/
├── index.html                 # 메인 HTML 파일
├── css/
│   ├── style.css             # 기본 스타일시트
│   ├── ui.css                # UI 컴포넌트 스타일
│   └── responsive.css        # 반응형 디자인
├── js/
│   ├── core/
│   │   ├── game.js           # 메인 게임 클래스
│   │   ├── gameLoop.js       # 게임 루프 관리
│   │   └── input.js          # 입력 처리
│   ├── entities/
│   │   ├── player.js         # 플레이어 클래스
│   │   ├── enemy.js          # 적 클래스
│   │   ├── item.js           # 아이템 클래스
│   │   └── projectile.js     # 투사체 클래스
│   ├── systems/
│   │   ├── collision.js      # 충돌 감지
│   │   ├── spawn.js          # 스폰 시스템
│   │   ├── audio.js          # 사운드 관리
│   │   └── particles.js      # 파티클 시스템
│   ├── ui/
│   │   ├── hud.js            # 게임 내 UI
│   │   ├── menu.js           # 메뉴 시스템
│   │   └── tutorial.js       # 튜토리얼 시스템
│   └── utils/
│       ├── math.js           # 수학 유틸리티
│       ├── storage.js        # 로컬 저장소
│       └── analytics.js      # 데이터 분석
├── assets/
│   ├── images/
│   │   ├── sprites/          # 게임 스프라이트
│   │   │   ├── dummy/        # 더미 이미지 (개발용)
│   │   │   ├── final/        # 최종 이미지 (출시용)
│   │   │   └── ui/           # UI 이미지
│   │   └── backgrounds/      # 배경 이미지
│   ├── sounds/
│   │   ├── dummy/            # 더미 사운드 (개발용)
│   │   ├── final/            # 최종 사운드 (출시용)
│   │   └── music/            # 배경음악
│   └── data/
│       ├── levels.json       # 레벨 데이터
│       ├── items.json        # 아이템 데이터
│       └── enemies.json      # 적 데이터
├── docs/
│   ├── api.md                # API 문서
│   ├── architecture.md       # 아키텍처 문서
│   └── deployment.md         # 배포 가이드
├── tests/
│   ├── unit/                 # 단위 테스트
│   ├── integration/          # 통합 테스트
│   └── performance/          # 성능 테스트
├── package.json              # 프로젝트 의존성
├── webpack.config.js         # 번들링 설정
├── .eslintrc.js             # 코드 품질 설정
└── README.md                 # 프로젝트 설명서
```

### 10.2 기술 스택
```
프론트엔드:
- HTML5 Canvas / WebGL
- Vanilla JavaScript (ES6+)
- CSS3 (Grid, Flexbox)

개발 도구:
- Webpack (번들링)
- ESLint (코드 품질)
- Prettier (코드 포맷팅)
- Jest (테스트)

성능 모니터링:
- Performance API
- Memory API
- Custom Analytics

배포:
- GitHub Pages
- Netlify
- Vercel
```

## 11. 수익화 및 비즈니스 모델

### 11.1 수익화 전략
```
1단계: 광고 기반 수익
- 게임 시작 전 광고 (선택적)
- 게임오버 후 광고 (강제)
- 배너 광고 (게임 내)

2단계: 프리미엄 기능
- 광고 제거
- 추가 캐릭터
- 특별 아이템
- 오프라인 플레이

3단계: 구독 모델
- 월간/연간 구독
- 프리미엄 콘텐츠
- 우선 업데이트
```

### 11.2 타겟 사용자층
- **주요 타겟**: 18-35세 게임 애호가
- **게임 경험**: 캐주얼~미드코어 게이머
- **플레이 패턴**: 짧은 세션, 반복 플레이 선호
- **기기**: 데스크톱, 태블릿, 모바일

## 12. 위험 요소 및 대응 방안

### 12.1 기술적 위험
```
위험: 브라우저 호환성 문제
대응: 폴리필 적용, 대체 구현 준비

위험: 성능 이슈
대응: 성능 모니터링, 단계적 최적화

위험: 메모리 누수
대응: 정기적인 메모리 검사, 객체 풀링

위험: 리소스 로딩 실패
대응: 더미 리소스 폴백, 에러 핸들링
```

### 12.2 게임 밸런싱 위험
```
위험: 난이도 불균형
대응: 데이터 기반 밸런싱, 사용자 피드백 수집

위험: 아이템 밸런스 붕괴
대응: 수치 기반 설계, 지속적인 밸런싱
```

### 12.3 비즈니스 위험
```
위험: 사용자 이탈
대응: 지속적인 콘텐츠 업데이트, 커뮤니티 관리

위험: 수익성 부족
대응: 다양한 수익화 모델, A/B 테스트
```

## 13. 성공 지표 및 평가 방법

### 13.1 단기 성공 지표 (1개월)
- **기술적**: 60FPS 안정적 유지, 크로스 브라우저 호환성
- **게임성**: 평균 생존 시간 10분 이상, 재시작률 70% 이상
- **사용자**: 튜토리얼 완료율 90% 이상, 첫 게임 완료율 80% 이상
- **리소스**: 더미 이미지 정상 표시, 이미지 교체 시스템 정상 작동

### 13.2 중기 성공 지표 (3개월)
- **사용자 참여**: DAU 1,000명 이상, 세션 길이 15분 이상
- **수익성**: 월 광고 수익 100만원 이상
- **커뮤니티**: 사용자 리뷰 평점 4.0/5.0 이상
- **아트워크**: 최종 이미지 적용 완료, 시각적 품질 향상

### 13.3 장기 성공 지표 (1년)
- **사용자 기반**: MAU 10,000명 이상
- **수익성**: 월 수익 1,000만원 이상
- **브랜드**: 게임 인지도 향상, 경쟁 게임 대비 차별화
- **콘텐츠**: 정기적인 아트워크 업데이트, 시즌별 테마 적용

## 14. 결론 및 권장사항

### 14.1 프로젝트 가치
이 게임은 **뱀파이어 서바이버의 성공 요인을 잘 분석**하고 있으며, **웹 기반으로 접근성과 확장성을 높인** 좋은 아이디어입니다. 특히 **자동 공격 시스템과 생존 기반 게임플레이**는 모바일 게임 시장에서 검증된 성공 공식입니다.

**더미 리소스 우선 개발 전략**은 **게임 로직과 메커니즘에 집중**할 수 있게 하여, **개발 효율성을 크게 향상**시킬 것입니다.

### 14.2 개발 우선순위
1. **즉시**: 프로토타입 개발 및 핵심 메커니즘 검증 (더미 이미지 사용)
2. **1주 내**: 기본 게임 시스템 완성 및 내부 테스트
3. **2주 내**: UI/UX 완성 및 사용자 테스트
4. **4주 내**: 최적화 및 출시 준비
5. **출시 후**: 단계적으로 최종 아트워크 및 사운드 적용

### 14.3 향후 발전 방향
- **단기**: 모바일 최적화, 소셜 기능 추가
- **중기**: 멀티플레이어, 시즌 시스템
- **장기**: 크로스 플랫폼, 커뮤니티 플랫폼

### 14.4 리소스 개발 권장사항
- **개발 단계**: 더미 이미지로 게임 로직 완성 후 아트워크 작업
- **아트워크**: 전문 그래픽 디자이너와 협업하여 일관된 스타일 유지
- **사운드**: 게임 플레이와 조화를 이루는 효과음 및 배경음악 제작
- **최적화**: 다양한 기기에서의 성능을 고려한 리소스 압축 및 최적화

**최종 권장사항**: 이 계획서를 바탕으로 **2주 내에 더미 이미지를 사용한 프로토타입을 개발**하고, **실제 플레이를 통한 검증**을 진행한 후, **사용자 피드백을 반영하여 단계적으로 완성도**를 높이는 것을 권장합니다. **리소스는 게임 로직이 완성된 후 단계적으로 적용**하여 **개발 효율성과 품질을 모두 확보**하시기 바랍니다.

## 15. 개발 체크리스트 및 마일스톤

### 15.1 Phase 1 체크리스트 (Week 1-2)
```
□ HTML5 Canvas 설정 완료
□ 기본 게임 루프 구현 (60FPS)
□ 플레이어 클래스 생성
□ 입력 처리 시스템 구현
□ 더미 이미지 렌더링
□ 기본 적 클래스 생성
□ 간단한 AI 구현
□ 충돌 감지 시스템
□ 기본 UI 구현
□ 게임오버 조건 설정
□ Phase 1 검증 테스트 통과
```

### 15.2 Phase 2 체크리스트 (Week 3-4)
```
□ 적 스폰 시스템 구현 ✅
□ 난이도 증가 알고리즘 ✅
□ 자동 공격 시스템 (시각적 효과만 구현됨) ⚠️
□ 경험치 시스템 ✅
□ 레벨업 시스템 ✅
□ 아이템 시스템 (완성) ✅
□ 카메라 시스템
□ 다양한 적 타입
□ Phase 2 검증 테스트 통과
```

**⚠️ 자동 공격 시스템 현황:**
- 공격 애니메이션 및 파티클: ✅ 완성
- 공격 범위 표시: ✅ 완성  
- 실제 공격 로직: ❌ 미구현
- 적 데미지 적용: ❌ 미구현

**🔧 자동 공격 시스템 구현 계획 (Phase 2.5 우선 구현):**

**1단계: 공격 범위 내 적 감지 시스템**
- `Player.getEnemiesInRange()` 함수 구현
- 공격 범위 내 적들의 거리 및 방향 계산
- 공격 우선순위 결정 (가장 가까운 적 우선)

**2단계: 공격 데미지 시스템**
- `Player.attackEnemy(enemy)` 함수 구현
- 플레이어 공격력과 아이템 효과 적용
- 적 체력 감소 및 상태 업데이트

**3단계: 공격 타이밍 시스템**
- `Player.handleAutoAttack()` 함수에 실제 공격 로직 추가
- 공격 간격에 따른 자동 공격 실행
- 공격 방향에 따른 적 우선순위 조정

**4단계: 공격 피드백 시스템**
- 적이 데미지를 받았을 때 시각적 피드백
- 공격 성공/실패 파티클 효과
- 화면 흔들림 효과와 연동

**구현 우선순위:**
1. **즉시 (1-2일 내)**: 공격 범위 내 적 감지 시스템
2. **단기 (3-5일 내)**: 공격 데미지 시스템 및 피드백
3. **중기 (1주 내)**: 공격 우선순위 및 AI 개선

**🔧 기술적 구현 세부사항:**

**Player 클래스 확장:**
```javascript
// 공격 범위 내 적 감지
getEnemiesInRange() {
    const range = this.getCurrentAttackRange();
    return this.game.enemies.filter(enemy => {
        const distance = Math.sqrt(
            Math.pow(this.x - enemy.x, 2) + 
            Math.pow(this.y - enemy.y, 2)
        );
        return distance <= range;
    });
}

// 적 공격 실행
attackEnemy(enemy) {
    const damage = this.getCurrentAttackDamage();
    enemy.takeDamage(damage);
    
    // 공격 효과 생성
    this.game.createAttackEffect(this.x, this.y, enemy.x, enemy.y);
    
    // 적 처치 시 경험치 획득
    if (enemy.health <= 0) {
        this.gainExperience(enemy.experience);
        this.game.itemSystem.dropItemFromEnemy(enemy);
    }
}
```

**Game 클래스 확장:**
```javascript
// 공격 효과 생성
createAttackEffect(startX, startY, endX, endY) {
    // 공격선 파티클 생성
    const particles = this.createAttackLineParticles(startX, startY, endX, endY);
    this.particles.push(...particles);
    
    // 화면 흔들림 효과
    this.startScreenShake(2, 0.1);
}
```

**충돌 시스템 개선:**
- 플레이어-적 접촉 시 플레이어 데미지 (기존)
- 플레이어 공격 범위 내 적 자동 공격 (신규)
- 두 시스템을 분리하여 독립적으로 작동

### 15.2.5 Phase 2.5 체크리스트 (자동 공격 시스템 완성)
```
✅ 공격 범위 내 적 감지 시스템 구현
✅ 플레이어 공격 데미지 시스템 구현
✅ 자동 공격 타이밍 시스템 완성
✅ 공격 피드백 시스템 구현
✅ 공격 우선순위 AI 구현
✅ 자동 공격 시스템 검증 테스트 통과
```

**🔍 자동 공격 시스템 검증 계획:**

**기능 검증:**
1. **공격 범위 감지 테스트**
   - 플레이어 주변에 적 배치 후 공격 범위 내 적 감지 확인
   - 공격 범위 밖의 적은 감지되지 않는지 확인

2. **자동 공격 실행 테스트**
   - 공격 간격에 따른 자동 공격 실행 확인
   - 공격 범위 내 적이 있을 때만 공격 실행되는지 확인

3. **데미지 적용 테스트**
   - 플레이어 공격력에 따른 적 체력 감소 확인
   - 아이템 효과가 공격력에 반영되는지 확인

4. **시각적 피드백 테스트**
   - 공격 시 파티클 효과 표시 확인
   - 화면 흔들림 효과 연동 확인

**성능 검증:**
- 100마리 적이 있을 때 공격 범위 계산 성능 확인
- 공격 효과 파티클이 성능에 미치는 영향 측정

**게임플레이 검증:**
- 자동 공격으로 인한 게임 밸런스 변화 확인
- 플레이어가 수동으로 조작할 필요 없이 적을 처치할 수 있는지 확인

---

## 🧙‍♂️ **Phase 2.6: 마법사 플레이어 공격 시스템 구현**

### **🎯 마법사 플레이어 공격 시스템 기획**

#### **🏹 기본공격: 매직 에로우 (Magic Arrow)**

**기본 메커니즘:**
- **발사 방식**: 플레이어 중심에서 랜덤 방향으로 발사
- **유도 시스템**: 발사 후 근처의 랜덤 타겟을 향해 유도
- **공격 타입**: 단일 개체 타겟팅
- **사정거리**: 장거리 (기본 공격 범위의 2배)

**레벨업 효과:**
```
Level 1-4: 1개 화살 발사
Level 5-9: 2개 화살 발사  
Level 10-14: 3개 화살 발사
Level 15-19: 4개 화살 발사
Level 20+: 5개 화살 발사
```

**기술적 구현:**
- **발사 각도**: 360도 랜덤 방향
- **유도 알고리즘**: 가장 가까운 적을 찾아 방향 전환
- **화살 궤적**: 곡선 경로로 유도
- **데미지**: 기본 공격력 × 0.8 (유도 공격 보정)

#### **🔥 특수공격 1: 파이어볼 (Fireball)**

**기본 메커니즘:**
- **발사 키**: E키
- **공격 타입**: 투사형 + 폭발형 범위 공격
- **사정거리**: 단거리 (기본 공격 범위의 0.7배)
- **쿨다운**: 3초

**폭발 효과:**
- **폭발 범위**: 파이어볼 반경의 2배
- **범위 데미지**: 중심 데미지의 70% (주변 적)
- **추가 효과**: 화상 데미지 (3초간 초당 5 데미지)
- **시각 효과**: 화염 파티클 + 화면 흔들림

**레벨업 효과:**
```
Level 1-9: 폭발 범위 1.0배, 화상 데미지 5
Level 10-19: 폭발 범위 1.2배, 화상 데미지 7
Level 20+: 폭발 범위 1.5배, 화상 데미지 10
```

#### **⚡ 특수공격 2: 체인 라이트닝 (Chain Lightning)**

**기본 메커니즘:**
- **발사 키**: R키
- **공격 타입**: 선형 연쇄 공격
- **사정거리**: 중거리 (기본 공격 범위의 1.5배)
- **쿨다운**: 5초

**연쇄 시스템:**
- **1차 타격**: 가장 가까운 적
- **연쇄 조건**: 사정거리 내 다른 적이 있을 때
- **연쇄 제한**: 최대 연쇄 횟수 (레벨에 따라 증가)
- **연쇄 감쇠**: 각 연쇄마다 데미지 20% 감소

**레벨업 효과:**
```
Level 1-9: 최대 3개 적 연쇄, 데미지 1.0배
Level 10-19: 최대 5개 적 연쇄, 데미지 1.2배  
Level 20+: 최대 7개 적 연쇄, 데미지 1.5배
```

### **🔧 Phase 2.6 체크리스트 (마법사 공격 시스템 구현) - ✅ 완료**

#### **1단계: 기본 공격 시스템 개선**
```
✅ Player 클래스에 마법사 속성 추가
✅ 매직 에로우 발사 로직 구현
✅ 유도 시스템 구현
✅ 레벨별 화살 수 증가 시스템
✅ 매직 에로우 검증 테스트 통과
```

#### **2단계: 특수 공격 시스템 구현**
```
✅ 파이어볼 투사체 시스템
✅ 폭발형 범위 공격 시스템
✅ 체인 라이트닝 연쇄 시스템
✅ 쿨다운 관리 시스템
✅ 특수 공격 검증 테스트 통과
```

#### **3단계: 시각적 효과 및 밸런싱**
```
✅ 각 공격별 파티클 효과
✅ 화면 효과 (흔들림, 플래시 등)
✅ 공격 밸런싱 조정
✅ UI 표시 (쿨다운, 마나 등)
✅ 시각적 효과 검증 테스트 통과
```

**🎉 Phase 2.6 완료 요약:**
- 마법사 플레이어의 3가지 공격 방식 모두 구현 완료
- 매직 에로우 (자동 발사), 파이어볼 (E키), 체인 라이트닝 (R키)
- 레벨별 능력치 증가 시스템 구현
- 투사체 관리 및 파티클 효과 시스템 완성
- 키보드 입력 시스템 (E, R키) 완벽 연동

### **🎮 게임플레이 시나리오**

#### **초반 (Level 1-4)**
- 매직 에로우로 적을 하나씩 처치
- 파이어볼로 근접한 적들 처리
- 체인 라이트닝으로 적 그룹 공격

#### **중반 (Level 5-14)**
- 다중 매직 에로우로 여러 적 동시 공격
- 파이어볼 범위 확대로 효율적인 적 제거
- 체인 라이트닝으로 더 많은 적 연쇄 공격

#### **후반 (Level 15+)**
- 5개 매직 에로우로 대규모 적 그룹 처리
- 강화된 파이어볼로 보스급 적도 쉽게 처리
- 최대 연쇄 체인 라이트닝으로 화면 전체 정리

### **⚖️ 밸런싱 고려사항**

#### **데미지 밸런싱**
- **매직 에로우**: 기본 공격력 × 0.8 (유도 보정)
- **파이어볼**: 기본 공격력 × 1.5 (범위 공격 보정)
- **체인 라이트닝**: 기본 공격력 × 1.2 (연쇄 공격 보정)

#### **쿨다운 밸런싱**
- **매직 에로우**: 1초 (기본 공격)
- **파이어볼**: 3초 (범위 공격)
- **체인 라이트닝**: 5초 (연쇄 공격)

#### **마나 소모 (선택사항)**
- **매직 에로우**: 5 마나
- **파이어볼**: 15 마나
- **체인 라이트닝**: 25 마나

### **🔍 마법사 공격 시스템 검증 계획**

#### **기능 검증:**
1. **매직 에로우 테스트**
   - 랜덤 방향 발사 확인
   - 유도 시스템 정확성 확인
   - 레벨별 화살 수 증가 확인

2. **파이어볼 테스트**
   - 투사체 발사 및 이동 확인
   - 폭발 범위 데미지 확인
   - 화상 데미지 지속 효과 확인

3. **체인 라이트닝 테스트**
   - 연쇄 공격 정확성 확인
   - 레벨별 연쇄 횟수 증가 확인
   - 데미지 감쇠 시스템 확인

#### **성능 검증:**
- 다중 투사체 동시 처리 성능 확인
- 범위 공격 시 파티클 효과 성능 영향 측정
- 연쇄 공격 계산 복잡도 측정

#### **게임플레이 검증:**
- 마법사 공격으로 인한 게임 밸런스 변화 확인
- 다양한 공격 조합의 전략적 가치 확인
- 레벨업에 따른 공격력 증가 체감도 확인

---

## 📅 **업데이트된 전체 프로젝트 마일스톤**

```
Week 1: 프로젝트 시작, 기본 구조 설정
Week 2: Phase 1 완료, 최소 기능 프로토타입
Week 3-4: Phase 2 완료, 핵심 시스템 구현
Week 4.5: Phase 2.5 완료, 자동 공격 시스템 완성 ⭐
Week 4.75: Phase 2.6 완료, 마법사 공격 시스템 구현 🧙‍♂️ ✅
Week 5-6: Phase 3 진행 예정, 완성도 향상
Week 7-8: Phase 4 진행 예정, 최적화 및 출시 준비
Week 9-12: 출시 후 개선 및 사용자 피드백 반영
```

**🎯 현재 상태: Phase 2.6 완료 (2024년 현재)**
- 마법사 공격 시스템 완벽 구현
- 게임의 핵심 재미 요소 완성
- Phase 3 진행 준비 완료

**🧙‍♂️ Phase 2.6 완료 성과:**
- ✅ 마법사 플레이어의 다양한 공격 방식으로 게임의 전략성 증대 완료
- ✅ 기존 자동 공격 시스템을 확장하여 더욱 역동적인 게임플레이 제공 완료
- ✅ 레벨업 시스템과 연동하여 장기적인 게임 진행 동기 부여 완료
- ✅ Phase 3 진행 전 게임의 핵심 재미 요소 완성

**🎉 축하합니다! 마법사 공격 시스템이 완벽하게 구현되었습니다!** 🚀✨
**이제 Phase 3로 진행하여 게임의 완성도를 높여보세요!**

### 15.3 Phase 3 체크리스트 (Week 5-6)
```
□ 고품질 UI/UX 구현
□ 튜토리얼 시스템
□ 사운드 시스템
□ 파티클 효과
□ 애니메이션 시스템
□ 설정 옵션
□ 모바일 최적화
□ Phase 3 검증 테스트 통과
```

### 15.4 Phase 4 체크리스트 (Week 7-8)
```
□ 성능 최적화 완료
□ 메모리 최적화
□ 코드 품질 향상
□ 최종 리소스 통합
□ 사용자 테스트 완료
□ 출시 준비 완료
□ Phase 4 검증 테스트 통과
```

### 15.5 전체 프로젝트 마일스톤
```
Week 1: 프로젝트 시작, 기본 구조 설정
Week 2: Phase 1 완료, 최소 기능 프로토타입
Week 3-4: Phase 2 완료, 핵심 시스템 구현
Week 4.5: Phase 2.5 완료, 자동 공격 시스템 완성 ⭐
Week 4.75: Phase 2.6 완료, 마법사 공격 시스템 구현 🧙‍♂️ ✅
Week 5-6: Phase 3 진행 예정, 완성도 향상
Week 7-8: Phase 4 진행 예정, 최적화 및 출시 준비
Week 9-12: 출시 후 개선 및 사용자 피드백 반영
```

**🎯 현재 개발 진행 상황 (2024년 현재):**
- ✅ Phase 1: 최소 기능 프로토타입 완료
- ✅ Phase 2: 핵심 시스템 구현 완료
- ✅ Phase 2.5: 자동 공격 시스템 완성
- ✅ Phase 2.6: 마법사 공격 시스템 구현 완료
- ✅ Phase 2.7: 특수 공격 효과 개선 및 아이템 시스템 재설정 완료
- 🔄 Phase 3: 완성도 향상 (다음 단계)
- ⏳ Phase 4: 최적화 및 출시 준비 (예정)

**⭐ Phase 2.5 중요성:**
- 자동 공격 시스템은 게임의 핵심 메커니즘
- 현재 시각적 효과만 구현되어 실제 게임플레이 불가능
- Phase 3 진행 전 반드시 완성해야 할 필수 요소
- 사용자 테스트 및 게임 밸런싱을 위한 핵심 기능

**🧙‍♂️ Phase 2.6 중요성:**
- 마법사 플레이어의 다양한 공격 방식으로 게임의 전략성 증대
- 기존 자동 공격 시스템을 확장하여 더욱 역동적인 게임플레이 제공
- 레벨업 시스템과 연동하여 장기적인 게임 진행 동기 부여
- Phase 3 진행 전 게임의 핵심 재미 요소 완성

**🎯 Phase 2.7 완료 성과:**
- ✅ 특수 공격 효과 시각적 개선 (파이어볼 폭발 범위 표시, 체인라이트닝 순차적 사라짐)
- ✅ 아이템 효과 시스템 재설정 (가법적 강화 방식으로 변경)
- ✅ 시간 기반 난이도 증가 시스템 구현 (스폰 레이트 및 적 강화)
- ✅ 기본 공격 시스템 개선 (레벨별 다중 방향 공격, 스마트 타겟팅)
- ✅ 특수 공격 레벨별 데미지 강화 시스템 구현 (레벨당 5% 증가)

**⚠️ 개선 필요 사항:**
- 파이어볼 폭발 효과의 시각적 품질 향상 필요
- 체인라이트닝 효과의 순차적 사라짐 완벽 구현 필요

**이제 Phase 3로 진행하여 게임의 완성도를 높여보세요!** 🚀✨
